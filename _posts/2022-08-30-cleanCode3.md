---
title:  "함수"
excerpt: \[Clean Code\] 함수
categories:
  - cleanCode
---

## 함수를 작게 만들자
함수는 길어도 10줄 이내로 만들자.

#### 블록과 들여쓰기
if문/else 문/while 문 등에 들어가는 블록은 한 줄이어야 한다. 대개 거기서 함수를 호출한다. 그러면 바깥을 감싸는 함수가 작아질 뿐 아니라, 블록 안에서 호출하는 함수 이름을 적절히 짓는다면, 코드를 이해하기도 쉬워진다.  
중첩 구조가 생길만큼 함수가 커져서는 안 된다. 그러므로 함수에서 들여쓰기 수준은 1단이나 2단을 넘어서면 안 된다.

## 함수는 한 가지만 하도록 하자
지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다. 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다.

## 함수 당 추상화 수준은 하나로 만들자
함수가 한 가지 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다. 한 함수 내에 추상화 수준을 섞으면 특정 표현이 근본 개념인지 아니면 세부사항인지 구분하기 어려워져 코드를 읽는 사람이 헷갈린다.  
근본 개념과 세부사항을 뒤섞기 시작하면, 사람들이 함수에 세부사항을 점점 더 추가하게 된다.

#### 내려가기 규칙
코드는 위에서 아래로 이야기처럼 읽혀야 좋다. 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다. 즉, 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한번에 한 단계씩 낮아진다. 이를 **내려가기 규칙** 이라 부른다.

## Switch문
switch문은 작게 만들기 어렵다. 또한 한 가지 작업만 하는 switch문도 만들기 어렵다. 본질적으로 switch문은 N가지를 처리한다. switch문을 완전히 피할 방법은 없다. 하지만 다형성을 이용하여 각 switch문을 저차원 클래스에 숨기고 다형적 객체를 생성하는 방법이 있다.

  
```java
...

public Employee makeEmployee(EmployeeRecord r) {
    switch(r.type) {
        case COMMISSIONED:
            return new CommissionedEmployee(r);
        case HOURLY:
            return new HourlyEmployee(r);
        case SALARIED:
            return new SalariedEmployee(r);
        default:
            throw new InvalidEmployeeType(r.type);
    }
}
```  

## 서술적인 이름을 사용하자
함수가 하는 일을 좀 더 잘 표현하면 좋은 이름이다. 함수가 작고 단순할수록 서술적인 이름을 고르기도 쉬워진다. 길고 서술적인 이름이 짧고 어려운 이름보다 좋다.  
이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다. includeSetupAndTeardownPages, includeSetupPages, includeSetupPage 등이 좋은 예다.